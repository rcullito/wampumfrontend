<blogheader></blogheader>

<div class="container lower">
  <span class="row">
    <span class="col-sm-3">
      <h4 style="text-transform:underline;">Archive</h4>
            <div ng-repeat="blog in blogs">
          <p><a class="blog-link" href="/blog/{{ blog.written }}">{{ blog.title }}</a></p>
        </div>
    </span>
    <span id="blogText" class="col-sm-9">
  <h3>KineticJS 3/25/14</h3><p>The last post touched on the need for motion in design, so I am pretty happy to report that the process of animating Wampum has been a really fun endeavor. I started out with a vague idea that it was important to show potential Wampum items moving because it would demonstrate that the life cycle of material goods is fluid, not static. I’m not sure if it will turn out this way, but I’ve always been fascinated with the idea of breaking materials down to their most basic parts and building them back up again like a series of blocks. My animation skills aren’t quite that fancy yet, but as a humble start having the items move in a circular motion is a first step towards a cradle to cradle view of product design. If you haven’t read the book, I would recommend it 1000 times over, it has definitely been one of the most influential books I’ve read http://www.mcdonough.com/speaking-writing/cradle-to-cradle/#.UzIb8nktulI</p><p>Warning, the rest of this blog post will probably not be of interest unless you are interested in animation with Javascript. If you only make it this far, it’s been real.</p><p>I’ve always thought the intersection of physics and animation was pretty cool since I first thought about how these two different worlds came together in pixar movies. A talk I went to a few years ago opened my mind to the world of infinite details that designers and programmers were responsible for creating, where gravity affected a waterfall in Cars, just as it would a stream cascading through the american southwest. Haven’t seen Cars 2 yet, but we’ll see.</p><p>Obviously, there are so many options for animation out there, but I’m already familiar with Javascript so I thought I would start there, or almost. I first looked at potentially recording a movie with something like Apple Motion. Aside from it maybe being a good intro to key framing and some other concepts, I found it kind of painstaking to get the effects that I wanted. All of the bezier curve tools and whatnot in photoshop and other animation projects have always eluded me, I’ve always thought it was easier to look at the underlying functions responsible for things moving on the screen. The Image Magick host of libraries was my first starting point, but in digging around it became pretty clear that if you’re doing animation in Javascript, focusing on the new html5 canvas element was the way to go. While there is some good documentation out there on programming directly with javascript and canvas, I wasn’t overly thrilled by the amount of boilerplate it took to produce something meaningful. After messing with DrawScript, a plugin for Adobe Illustrator, and Easel, a raw JS library for canvas, I finally settled on KineticJS, and have been really happy with the decision. </p><p>Although there are some pretty good demos online for KineticJS, most of them are focused on drawing objects and not on animating them in interesting ways. My goal in posting some code samples is not to show off long forgotten and little understood Trig functions, but to potentially serve as a good copy and paste for anyone who just wants to move things around in cirlces or some other pattern with KineticJS. To Kinetic’s credit though, even though many of the animation tutorials one would expect are lacking, a lot of the patterns or pretty guessable. For instance, I was surpassed to find that grouping was very intuitive. You can group multiple shapes together to form an object, and you can group multiple objects together to form more complex objects. Attached is some code that I used to draw a yellow rain jacket(one object composed of five different shapes) and a pair of vans(two objects, each composed of three separate shapes). If you’re interested in animation, even if you don’t know Javascript, I would say KineticJS is a great place to start. It’s free, all you need is a web browser, and you can share your designs really easily too.</p><!-- include an image of the rainjacket pieces coming together to make the shape--><h4>Yellow Rain Jacket</h4><pre id="rain-jacket">// start by creating a new kinetic stage, where the container is the id from your html
 var stage = new Kinetic.Stage({
   container: 'kinetic',
   width: 800,
   height: 200
 });
// you can have multiple layers per animation, only using one here
 var layer = new Kinetic.Layer();
// start with an empty group for our rain jacket(we'll add to it later)
var yellowRainJacket = new Kinetic.Group({});
// make our first shape, which will be the hood of the rainjacket
var yellowRainJacketHood = new Kinetic.Shape({
  sceneFunc: function(context) {
    context.beginPath();          
    context.moveTo(40, 50);
    context.quadraticCurveTo(60, 10, 80, 50);
    context.closePath();
    context.fillStrokeShape(this);
  },
  fill: '#FBB917',
  stroke: '#FFD801',
  strokeWidth: 4
});
 var yellowRainJacketBody = new Kinetic.Rect({
   x: 38,
   y: 52,
   width: 44,
   height: 40,
   fill: '#FFD801',
 });
 var yellowRainJacketLeftArm = new Kinetic.Rect({
   x: 38,
   y: 51,
   width: 15,
   height: 30,
   rotation: 45,
   fill: '#FFD801',
 });
 var yellowRainJacketRightArm = new Kinetic.Rect({
   x: 104,
   y: 72,
   width: 15,
   height: 30,
   rotation: 135,
   fill: '#FFD801',
 });
 var yellowRainJacketZipper = new Kinetic.Line({
   points: [60, 52, 60, 90],
   stroke: 'white',
   strokeWidth: 2,
   lineCap: 'round',
   lineJoin: 'round'
 });
 // add all of the shapes to the group
 yellowRainJacket.add(yellowRainJacketHood);
 yellowRainJacket.add(yellowRainJacketBody);
 yellowRainJacket.add(yellowRainJacketLeftArm);
 yellowRainJacket.add(yellowRainJacketRightArm);
 yellowRainJacket.add(yellowRainJacketZipper);
 // add the completed group to the layer
 layer.add(yellowRainJacket);
 // add the layer to the stage that was created off the html canvas in the first step
 stage.add(layer);</pre><h4>Yellow Rain Jacket Animated</h4><pre id="rain-jacket-animation"> var amplitude = stage.width() / 2;
 var centerX = stage.width() / 2;
 // start at 1 and decrease to slow the object down
 var speed = .4;
 // constructor takes an animation function and a layer upon which to animate
 var jacketAnimation = new Kinetic.Animation(function(frame) {
   // Sin and cos are used here to make the circle animation. As time 
   // continues to increase these functions will rythmically alternate
   // between positive and values for the coordinates of the rain jacket
   yellowRainJacket.setX(amplitude * Math.sin(frame.time * speed * Math.PI / 2000) + centerX);
   yellowRainJacket.setY(150 * Math.cos(frame.time * speed * Math.PI / 2000) - 100);         
 }, layer);
 // kick things off
 jacketAnimation.start();</pre>
    </span>
    <div class="col-sm-9 col-sm-offset-3">
      <div disqus="disqus_thread"></div>
    </div>
  </span>
</div>